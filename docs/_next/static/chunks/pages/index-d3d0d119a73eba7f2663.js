(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2989:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var n=a(4942),r=a(2982),s=a(5861),o=a(7757),i=a.n(o),d=a(7294),c=a(5477),h=a(2318),l=a(6523),u=a(1664),p=a(6201),f=a(5893),g=[{date:"2022/11/23",update:(0,f.jsxs)("span",{children:[(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:"This dashboard is no longer maintaned."})," but you can check out an updated version ",(0,f.jsx)("a",{href:"https://asoap.github.io/ontario-covid19/",children:"here"}),". Thanks Derek D!"]}),(0,f.jsx)("p",{children:"Thanks to everyone who supported this page over the past 2.5 years\u2014with contributions and donations."}),(0,f.jsx)("p",{children:"For a short time, this was a go-to site for reliable, up-to-date information about the covid 19 pandemic. Keeping it that way however, will require active maintenance\u2014to deal with changing information and data sources. And I don't have the bandwidth."}),(0,f.jsxs)("p",{children:["Instead, my focus will put towards being a good father and husband, and running and growing ",(0,f.jsx)("a",{href:"https://www.sharpestminds.com",children:"SharpestMinds"}),"."]}),(0,f.jsx)("p",{children:"Thanks,"}),(0,f.jsx)("p",{children:"Russell"}),(0,f.jsxs)("p",{children:["P.S Feel free to fork the ",(0,f.jsx)("a",{href:"https://github.com/Russell-Pollari/ontario-covid19",children:"repo"})," and fix it, or ",(0,f.jsx)("a",{href:"mailto:russell@sharpestminds",children:"get in touch"})]})]})},{date:"2021/03/15",update:"Ontario changed how they count deaths due to covid. I guess we were overcounting before. This involved an update to the data format which broke some things on this dashboard. All fixed now. Thanks to the folks who got in touch to flag it!"},{date:"2022/01/28",update:"All recovered. Thanks to everyone who reached out and wished us well!"},{date:"2022/01/10",update:(0,f.jsx)("span",{children:"Welp. My wife and I have Covid\u2014despite two vaccines each. FYI I had three false negatives with at home rapid tests, despite showing symptoms. Finally, with a throat swap and nasal swap, I got a positive result."})},{date:"2022/01/10",update:(0,f.jsx)("span",{children:"Fixed the vaccine percentage for at folks with at least one dose."})},{date:"2021/12/28",update:(0,f.jsx)("span",{children:"Removed some charts and stats that were out of date, and maybe wrong."})},{date:"2021/12/21",update:(0,f.jsxs)("span",{children:["The Omicron strain ",(0,f.jsx)("em",{children:"seems"})," to be effective at infecting folks with 2 doses."," ",(0,f.jsx)("strong",{children:"But"})," 2 vaccine doses still offer good protection from severe symptoms (see the charts on the Vaccine page).",(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),"Be careful, folks! Get your booster and play it safe! I for one, am not traveling home for the holidays to protect my older family members."]})},{date:"2021/12/21",update:"Fixed some math errors with my Vaccine stats."},{date:"2021/12/03",update:"Fixed some things. Ontario is no longer pubishing VOC cases with this dataset. And they are now publishing numbers for 3rd doses of vaccines and vaccinations for 5-11 age group"},{date:"2021/08/01",update:(0,f.jsxs)("span",{children:["Added some more ",(0,f.jsx)(u.default,{href:"/vaccinations",children:"vaccine stats"}),". Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/aboodmufti",target:"_blank",rel:"noopener noreferrer",children:"Abood Mufti"})," "," for the pull request!"]})},{date:"2021/06/06",update:(0,f.jsxs)("span",{children:["Added a chart showing ",(0,f.jsx)(u.default,{href:"/vaccinations#Vaccination rate by age group",children:"vaccination rates by age group"}),". Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/aboodmufti",target:"_blank",rel:"noopener noreferrer",children:"Abood Mufti"})," "," for the pull request!"]})},{date:"2021/05/28",update:"Added a plot showing the estimated reproduction number\u2014how many new people each confirmed case will infect (above 1 = bad, below 1 = good)."},{date:"2021/05/24",update:(0,f.jsxs)("span",{children:["Breaking down ",(0,f.jsx)(u.default,{href:"/vaccinations#Daily%20vaccines%20administered",children:"daily vaccines"})," by type of dose. Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/aboodmufti",target:"_blank",rel:"noopener noreferrer",children:"Abood Mufti"})," "," for the pull request!"]})},{date:"2021/05/11",update:(0,f.jsxs)("span",{children:["Added a logo and favicon. Thanks to ",(0,f.jsx)("a",{href:"https://twitter.com/mikedrach",target:"_blank",rel:"noopener noreferrer",children:"Mike Drach"})," for designing it!"]})},{date:"2021/04/12",update:(0,f.jsxs)("span",{children:["Added new cases and the 7 day average for each ",(0,f.jsx)(u.default,{href:"/phus",children:"PHU"}),". Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/albertjvm",target:"_blank",rel:"noopener noreferrer",children:"Albert"})," ","for the pull request!"]})},{date:"2021/04/12",update:(0,f.jsxs)("span",{children:["Optimized the query and added more plots to the ",(0,f.jsx)(u.default,{href:"/stats",children:"stats page"}),". Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/TikiTDO",target:"_blank",rel:"noopener noreferrer",children:"TikiTDO"})," ","for the pull requests!"]})},{date:"2021/04/09",update:(0,f.jsxs)("span",{children:["Using adult population for vaccine percentages ",(0,f.jsx)(u.default,{href:"/vaccinations",children:"here"}),"."]})},{date:"2021/04/09",update:(0,f.jsx)("span",{children:'Added "Variants of concern" cases to table and Total cases plot. This data seems to be lagging, so I cannot calculate the daily change.'})},{date:"2021/03/28",update:(0,f.jsxs)("span",{children:["Moved ",(0,f.jsx)(u.default,{href:"/vaccinations",children:"vaccination charts"})," to a new page."]})},{date:"2021/03/27",update:(0,f.jsxs)("span",{children:["Added ",(0,f.jsx)(u.default,{href:"/stats",children:"a page"})," to show case statistics."]})},{date:"2021/03/14",update:"Added plot showing total people fully vaccinated."},{date:"2021/03/14",update:"Making things a little prettier."},{date:"2021/03/10",update:(0,f.jsxs)("span",{children:["Added ",(0,f.jsx)(u.default,{href:"/phus",children:"a page"})," to filter stats by public health unit (PHU)."]})},{date:"2021/03/07",update:(0,f.jsxs)("span",{children:["Added some features to the Summary table and added a 7 day moving average for daily vaccines. Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/IsaacBerman",target:"_blank",rel:"noopener noreferrer",children:"IsaacBerman"})," ","for the pull requests!"]})},{date:"2021/02/20",update:"Added a plot showing daily vaccinations."},{date:"2021/02/07",update:(0,f.jsxs)("span",{children:["Some minor prettifications. Thanks"," ",(0,f.jsx)("a",{href:"https://github.com/TikiTDO",target:"_blank",rel:"noopener noreferrer",children:"TikiTDO"})," ","for the pull requests!"]})}],m=function(){var e=(0,d.useState)([]),t=e[0],a=e[1],n=(0,d.useState)(!1),r=n[0],s=n[1];(0,d.useEffect)((function(){a(r?g:g.slice(0,1))}),[r]);return(0,f.jsxs)(p.Z,{title:"Recent updates",children:[(0,f.jsx)("ul",{children:t.map((function(e,t){var a=e.date,n=e.update;return(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:a})," ",n]},t)}))}),(0,f.jsx)("div",{className:"blue hover-dark-blue pointer",onClick:function(){return s(!r)},children:r?"Show less":"Show all"})]})},v=a(8102),b=function(e){return e?e.toLocaleString():""},w=function(e){return e?"".concat(e>=0?"+":"").concat(b(e)):""},j=[{label:"Date",key:"date_string"},{label:"Active cases",key:"active_cases",formatValue:b,headerColSpan:2},{label:"",key:"new_active_cases",formatValue:w,highlight:"negative"},{label:"Total cases",key:"Total Cases",formatValue:b,headerColSpan:2},{label:"",key:"new_cases",formatValue:w,highlight:"negative"},{label:"Deaths",key:"Deaths",formatValue:b,headerColSpan:2},{label:"",key:"new_deaths",formatValue:w,highlight:"negative"},{label:"Patients hospitalized",key:"Number of patients hospitalized with COVID-19",formatValue:b,headerColSpan:2},{label:"",key:"new_hospital",formatValue:w,highlight:!0},{label:"Patients in ICU",key:"Number of patients in ICU due to COVID-19",formatValue:b,headerColSpan:2},{label:"",key:"new_icu",formatValue:w,highlight:"negative"}],x=function(e){var t=e.dataSource,a=void 0===t?[]:t;return(0,f.jsx)(v.Z,{title:"Status of cases in Ontario",data:a,columns:j})},_=a(3167),y=a(3349),k="Number of patients hospitalized with COVID-19",D="Number of patients in ICU due to COVID-19",O=function(){return new Promise((function(e){(0,y.Z)("https://data.ontario.ca/api/3/action/datastore_search?resource_id=ed270bb8-340b-41f9-a7c6-e8ef587e6d11&limit=1000",(function(t){var a=t.result.records;a.sort((function(e,t){return new Date(e["Reported Date"])-new Date(t["Reported Date"])}));var n=[0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0],o=[0,0,0,0,0,0,0],i=0,d=0,c=0,h=0,l=0,u=0;a.map((function(e){e.Deaths=Number(e.Deaths_New_Methodology||e.Deaths||0),e.new_cases=e["Total Cases"]-i,e.new_deaths=Math.max(e.Deaths-d,0),e.icu_no_ventilator=e[D]-e["Number of patients in ICU on a ventilator due to COVID-19"],e.date_string=new Date(e["Reported Date"]).toLocaleString("en-us",{month:"short",day:"numeric"}),e.active_cases=e["Total Cases"]-e.Resolved-e.Deaths,e.new_active_cases=e.active_cases-c,e.new_resolved=e.Resolved-h,e.new_hospital=e[k]-l,e.new_icu=e[D]-u,e.percent_positive=(e.new_cases/e["Total tests completed in the last day"]*100).toFixed(2),(e.percent_positive>100||isNaN(e.percent_positive))&&(e.percent_positive=0),o.shift(),o.push(Number(e.percent_positive||0)),e.tests_positive_rolling_average=(o.reduce((function(e,t){return t+e}),0)/7).toFixed(2),s.shift(),s.push(e["Total tests completed in the last day"]||0),e.tests_rolling_average=Math.round(s.reduce((function(e,t){return t+e}),0)/7),n.shift(),n.push(e.new_cases);var t=n.reduce((function(e,t){return t+e}),0);e.new_cases_rolling_average=Math.round(t/7),r.shift(),r.push(e.new_deaths);var a=r.reduce((function(e,t){return t+e}),0);return e.new_deaths_rolling_average=Math.round(a/7),u=e[D],l=e[k],i=e["Total Cases"],d=e.Deaths,h=e.Resolved,c=e.active_cases,e})),e(a)}))}))},T=function(){return new Promise((function(e){(0,y.Z)("https://data.ontario.ca/api/3/action/datastore_search?resource_id=1ffdf824-2712-4f64-b7fc-f8b2509f9204&limit=10000",(function(t){var a=t.result.records;a.sort((function(e,t){return new Date(e.date_start)-new Date(t.date_start)}));var n=a.map((function(e){return e.date_string=new Date(e.date_start).toLocaleString("en-us",{month:"short",day:"numeric"}),e.error_bars=[e.Re-e.lower_CI,e.upper_CI-e.Re],e}));e(n)}))}))},C=a(8267);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A=function(){var e=(0,d.useState)(),t=e[0],a=e[1],n=(0,d.useState)([]),o=n[0],u=n[1],p=(0,d.useState)(!0),g=p[0],v=p[1],b=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T().then(a),e.next=3,O().then(u);case 3:v(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){b()}),[]);var w=[{title:"Summary",href:"#"},{title:C.re.title,href:"#".concat(C.re.title)}].concat((0,r.Z)(C.t.map((function(e){return{title:e.title,href:"#".concat(e.title)}}))));return(0,f.jsxs)(l.Z,{menuItems:w,children:[(0,f.jsx)(h.Z,{variant:"h4",children:"Covid-19 in Ontario"}),(0,f.jsx)(m,{}),g?(0,f.jsxs)("p",{className:"tc",children:[(0,f.jsx)("strong",{children:"Hold tight.. just fetching the latest data"}),(0,f.jsx)("div",{children:(0,f.jsx)(c.Z,{})})]}):(0,f.jsxs)(d.Fragment,{children:[(0,f.jsx)(x,{dataSource:o}),(0,f.jsx)(_.Z,I(I({},C.re),{},{dataSource:t})),C.t.map((function(e,t){return(0,f.jsx)(_.Z,I({dataSource:o,syncId:"syncCharts"},e),t)}))]})]})}},8581:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2989)}])}},function(e){e.O(0,[774,178,753,755,747,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);